# THIS TABLE SHOULD BE CHANGED BEFORE EVERY EVENT!!!

# GAME ID
# 1 - Bedwars
# 2 - Quakecraft
# 3 - Sheep Hoarders
# 4 - Battle Box
# 5 - Survival Games
# 6 - The Journeys
# 7 - TNT Tags
# 8 - Maniac Builders
# 9 - Murder Mystery
# 10 - Lava Dancers
# 11 - Guardian Leagues

# Get the game with highest scores
execute if score GAME_RED data >= GAME_ORANGE data if score GAME_RED data >= GAME_YELLOW data if score GAME_RED data >= GAME_GREEN data if score GAME_RED data >= GAME_DARK_GREEN data if score GAME_RED data >= GAME_AQUA data if score GAME_RED data >= GAME_BLUE data if score GAME_RED data >= GAME_DARK_PURPLE data if score GAME_RED data >= GAME_LIGHT_PURPLE data if score GAME_RED data >= GAME_BROWN data if score GAME_RED data >= GAME_CYAN data run scoreboard players set GAME_CHOSEN data 1
execute if score GAME_ORANGE data >= GAME_RED data if score GAME_ORANGE data >= GAME_YELLOW data if score GAME_ORANGE data >= GAME_GREEN data if score GAME_ORANGE data >= GAME_DARK_GREEN data if score GAME_ORANGE data >= GAME_AQUA data if score GAME_ORANGE data >= GAME_BLUE data if score GAME_ORANGE data >= GAME_DARK_PURPLE data if score GAME_ORANGE data >= GAME_LIGHT_PURPLE data if score GAME_ORANGE data >= GAME_BROWN data if score GAME_ORANGE data >= GAME_CYAN data run scoreboard players set GAME_CHOSEN data 2
execute if score GAME_YELLOW data >= GAME_RED data if score GAME_YELLOW data >= GAME_ORANGE data if score GAME_YELLOW data >= GAME_GREEN data if score GAME_YELLOW data >= GAME_DARK_GREEN data if score GAME_YELLOW data >= GAME_AQUA data if score GAME_YELLOW data >= GAME_BLUE data if score GAME_YELLOW data >= GAME_DARK_PURPLE data if score GAME_YELLOW data >= GAME_LIGHT_PURPLE data if score GAME_YELLOW data >= GAME_BROWN data if score GAME_YELLOW data >= GAME_CYAN data run scoreboard players set GAME_CHOSEN data 3
execute if score GAME_GREEN data >= GAME_RED data if score GAME_GREEN data >= GAME_ORANGE data if score GAME_GREEN data >= GAME_YELLOW data if score GAME_GREEN data >= GAME_DARK_GREEN data if score GAME_GREEN data >= GAME_AQUA data if score GAME_GREEN data >= GAME_BLUE data if score GAME_GREEN data >= GAME_DARK_PURPLE data if score GAME_GREEN data >= GAME_LIGHT_PURPLE data if score GAME_GREEN data >= GAME_BROWN data if score GAME_GREEN data >= GAME_CYAN data run scoreboard players set GAME_CHOSEN data 4
execute if score GAME_DARK_GREEN data >= GAME_RED data if score GAME_DARK_GREEN data >= GAME_ORANGE data if score GAME_DARK_GREEN data >= GAME_YELLOW data if score GAME_DARK_GREEN data >= GAME_GREEN data if score GAME_DARK_GREEN data >= GAME_AQUA data if score GAME_DARK_GREEN data >= GAME_BLUE data if score GAME_DARK_GREEN data >= GAME_DARK_PURPLE data if score GAME_DARK_GREEN data >= GAME_LIGHT_PURPLE data if score GAME_DARK_GREEN data >= GAME_BROWN data if score GAME_DARK_GREEN data >= GAME_CYAN data run scoreboard players set GAME_CHOSEN data 5
execute if score GAME_AQUA data >= GAME_RED data if score GAME_AQUA data >= GAME_ORANGE data if score GAME_AQUA data >= GAME_YELLOW data if score GAME_AQUA data >= GAME_GREEN data if score GAME_AQUA data >= GAME_DARK_GREEN data if score GAME_AQUA data >= GAME_BLUE data if score GAME_AQUA data >= GAME_DARK_PURPLE data if score GAME_AQUA data >= GAME_LIGHT_PURPLE data if score GAME_AQUA data >= GAME_BROWN data if score GAME_AQUA data >= GAME_CYAN data run scoreboard players set GAME_CHOSEN data 6
execute if score GAME_BLUE data >= GAME_RED data if score GAME_BLUE data >= GAME_ORANGE data if score GAME_BLUE data >= GAME_YELLOW data if score GAME_BLUE data >= GAME_GREEN data if score GAME_BLUE data >= GAME_DARK_GREEN data if score GAME_BLUE data >= GAME_AQUA data if score GAME_BLUE data >= GAME_DARK_PURPLE data if score GAME_BLUE data >= GAME_LIGHT_PURPLE data if score GAME_BLUE data >= GAME_BROWN data if score GAME_BLUE data >= GAME_CYAN data run scoreboard players set GAME_CHOSEN data 7
execute if score GAME_DARK_PURPLE data >= GAME_RED data if score GAME_DARK_PURPLE data >= GAME_ORANGE data if score GAME_DARK_PURPLE data >= GAME_YELLOW data if score GAME_DARK_PURPLE data >= GAME_GREEN data if score GAME_DARK_PURPLE data >= GAME_DARK_GREEN data if score GAME_DARK_PURPLE data >= GAME_AQUA data if score GAME_DARK_PURPLE data >= GAME_BLUE data if score GAME_DARK_PURPLE data >= GAME_LIGHT_PURPLE data if score GAME_DARK_PURPLE data >= GAME_BROWN data if score GAME_DARK_PURPLE data >= GAME_CYAN data run scoreboard players set GAME_CHOSEN data 8
execute if score GAME_LIGHT_PURPLE data >= GAME_RED data if score GAME_LIGHT_PURPLE data >= GAME_ORANGE data if score GAME_LIGHT_PURPLE data >= GAME_YELLOW data if score GAME_LIGHT_PURPLE data >= GAME_GREEN data if score GAME_LIGHT_PURPLE data >= GAME_DARK_GREEN data if score GAME_LIGHT_PURPLE data >= GAME_AQUA data if score GAME_LIGHT_PURPLE data >= GAME_BLUE data if score GAME_LIGHT_PURPLE data >= GAME_DARK_PURPLE data if score GAME_LIGHT_PURPLE data >= GAME_BROWN data if score GAME_LIGHT_PURPLE data >= GAME_CYAN data run scoreboard players set GAME_CHOSEN data 9
execute if score GAME_BROWN data >= GAME_RED data if score GAME_BROWN data >= GAME_ORANGE data if score GAME_BROWN data >= GAME_YELLOW data if score GAME_BROWN data >= GAME_GREEN data if score GAME_BROWN data >= GAME_DARK_GREEN data if score GAME_BROWN data >= GAME_AQUA data if score GAME_BROWN data >= GAME_BLUE data if score GAME_BROWN data >= GAME_DARK_PURPLE data if score GAME_BROWN data >= GAME_LIGHT_PURPLE data if score GAME_BROWN data >= GAME_CYAN data run scoreboard players set GAME_CHOSEN data 10
execute if score GAME_CYAN data >= GAME_RED data if score GAME_CYAN data >= GAME_ORANGE data if score GAME_CYAN data >= GAME_YELLOW data if score GAME_CYAN data >= GAME_GREEN data if score GAME_CYAN data >= GAME_DARK_GREEN data if score GAME_CYAN data >= GAME_AQUA data if score GAME_CYAN data >= GAME_BLUE data if score GAME_CYAN data >= GAME_DARK_PURPLE data if score GAME_CYAN data >= GAME_LIGHT_PURPLE data if score GAME_CYAN data >= GAME_BROWN data run scoreboard players set GAME_CHOSEN data 11

# Decide the game to play
execute if score GAME_CHOSEN data matches 1 run function hall:vote/results/bedwars
execute if score GAME_CHOSEN data matches 2 run function hall:vote/results/quakecraft
execute if score GAME_CHOSEN data matches 3 run function hall:vote/results/sheep_hoarders
execute if score GAME_CHOSEN data matches 4 run function hall:vote/results/battle_box
execute if score GAME_CHOSEN data matches 5 run function hall:vote/results/survival_games
execute if score GAME_CHOSEN data matches 6 run function hall:vote/results/journeys
execute if score GAME_CHOSEN data matches 7 run function hall:vote/results/tnt_tags
execute if score GAME_CHOSEN data matches 8 run function hall:vote/results/maniac_builders
execute if score GAME_CHOSEN data matches 9 run function hall:vote/results/murder_mystery
execute if score GAME_CHOSEN data matches 10 run function hall:vote/results/lava_dancers
execute if score GAME_CHOSEN data matches 11 run function hall:vote/results/miniwalls

# Fill the paintboard
execute if score GAME_CHOSEN data matches 1 run function hall:paintboard/fill/red
execute if score GAME_CHOSEN data matches 2 run function hall:paintboard/fill/orange
execute if score GAME_CHOSEN data matches 3 run function hall:paintboard/fill/yellow
execute if score GAME_CHOSEN data matches 4 run function hall:paintboard/fill/green
execute if score GAME_CHOSEN data matches 5 run function hall:paintboard/fill/dark_green
execute if score GAME_CHOSEN data matches 6 run function hall:paintboard/fill/aqua
execute if score GAME_CHOSEN data matches 7 run function hall:paintboard/fill/blue
execute if score GAME_CHOSEN data matches 8 run function hall:paintboard/fill/dark_purple
execute if score GAME_CHOSEN data matches 9 run function hall:paintboard/fill/light_purple
execute if score GAME_CHOSEN data matches 10 run function hall:paintboard/fill/brown
execute if score GAME_CHOSEN data matches 11 run function hall:paintboard/fill/cyan
schedule function hall:paintboard/reset 199t

# Stop BGM
stopsound @a master
execute as @a at @s run playsound entity.ender_dragon.growl master @s ~ ~ ~ 1 1
function hall:fireworks/beacons/beacon_yellow
function hall:fireworks/yellow

# Reset carrot stick
scoreboard players set @a carrot_stick 0

